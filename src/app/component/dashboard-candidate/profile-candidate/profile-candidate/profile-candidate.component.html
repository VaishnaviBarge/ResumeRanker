<div *ngIf="userData; else loading" class="p-6 bg-white rounded-lg shadow-md">
  <h2 class="text-2xl font-bold mb-4">Candidate Profile</h2>

  <form #profileForm="ngForm" (ngSubmit)="saveChanges()">
   
    <label><strong>Full Name:</strong></label>
    <input name="fullname" [(ngModel)]="updatedUserData.fullname" class="border p-2 w-full rounded" required />

    <label><strong>Email:</strong></label>
    <input name="email" [(ngModel)]="updatedUserData.email" class="border p-2 w-full rounded" disabled />

    <label><strong>Phone Number:</strong></label>
    <input name="phone_number" [(ngModel)]="updatedUserData.phone_number" class="border p-2 w-full rounded" required />

    <label><strong>Address:</strong></label>
    <input name="address" [(ngModel)]="updatedUserData.address" class="border p-2 w-full rounded" />

    <label><strong>LinkedIn Profile:</strong></label>
    <input name="linkedin_profile" [(ngModel)]="updatedUserData.linkedin_profile" class="border p-2 w-full rounded" />

    <label><strong>Portfolio:</strong></label>
    <input name="portfolio" [(ngModel)]="updatedUserData.portfolio" class="border p-2 w-full rounded" />

    <label><strong>Preferred Job Role:</strong></label>
    <input name="preferred_job_role" [(ngModel)]="updatedUserData.preferred_job_role" class="border p-2 w-full rounded" />

    <label><strong>Expected Salary Range:</strong></label>
    <input name="expected_salary_range" [(ngModel)]="updatedUserData.expected_salary_range" class="border p-2 w-full rounded" />

    <label><strong>Skills:</strong></label>
    <input name="skills" [(ngModel)]="updatedUserData.skills" class="border p-2 w-full rounded" placeholder="Comma-separated values" />

    <label><strong>Education:</strong></label>
    <textarea name="education" [(ngModel)]="updatedUserData.education" class="border p-2 w-full rounded"></textarea>

    <label><strong>Work Experience:</strong></label>
    <textarea name="work_experience" [(ngModel)]="updatedUserData.work_experience" class="border p-2 w-full rounded"></textarea>

    <label><strong>Certifications:</strong></label>
    <input name="certifications" [(ngModel)]="updatedUserData.certifications" class="border p-2 w-full rounded" placeholder="Comma-separated values" />

    <!-- Resume -->
    <label><strong>Upload Resume (PDF):</strong></label>
<input type="file" (change)="onFileSelected($event)" class="border p-2 w-full rounded" accept="application/pdf" />

<!-- Upload Button -->
<button (click)="uploadResume()" class="bg-blue-600 text-white px-4 py-2 rounded mt-2">Upload</button>

<!-- View Resume Button (Only Visible If Resume Exists) -->
<div *ngIf="getResumeUrl()">
  <a [href]="getResumeUrl()" target="_blank" class="bg-green-600 text-white px-4 py-2 rounded mt-4 inline-block">
    View Resume
  </a>
</div>
    <!-- Buttons -->
    <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded mt-4">Save Changes</button>
  </form>
</div>

<ng-template #loading>
  <p class="text-gray-500">Loading candidate details...</p>
</ng-template>
